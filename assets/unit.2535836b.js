import{d as e}from"./pinia.416f3d4a.js";import{b as r}from"./axios.75cbcf9c.js";const o=e("unit",{state:()=>({units:[],currentUnit:null,loading:!1}),actions:{async list(){this.loading=!0;try{const a=await r.get("/admin/units");return this.units=a.data.data||a.data,this.units}catch(a){throw a}finally{this.loading=!1}},async get(a){this.loading=!0;try{const t=await r.get(`/admin/units/${a}`);return this.currentUnit=t.data.data||t.data,this.currentUnit}catch(t){throw t}finally{this.loading=!1}},async create(a){this.loading=!0;try{const t=await r.post("/admin/units",a);return t.data.data||t.data}catch(t){throw t}finally{this.loading=!1}},async update(a,t){this.loading=!0;try{const n=await r.put(`/admin/units/${a}`,t);return n.data.data||n.data}catch(n){throw n}finally{this.loading=!1}},async delete(a){this.loading=!0;try{return await r.delete(`/admin/units/${a}`),{success:!0}}catch(t){throw t}finally{this.loading=!1}},async generateApiToken(a,t="Token de API"){try{const n=await r.post(`/admin/units/${a}/api-token`,{name:t});return n.data.data||n.data}catch(n){throw n}},async getUsage(a,t="monthly"){try{const n=await r.get(`/admin/units/${a}/usage`,{params:{period:t}});return n.data.data||n.data}catch(n){throw n}}}});export{o as u};
