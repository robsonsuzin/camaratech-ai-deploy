import{j as f,s as p,a6 as w,a7 as s,a9 as y,ak as i,aa as e,ad as l,al as k,b2 as b,an as g}from"./index.0d3749aa.js";import{Q as v,a as C}from"./QTable.6d3344bf.js";import{Q as $}from"./QPage.22d0f341.js";import{u as x}from"./unit.4a5e1191.js";import{u as Q}from"./use-quasar.192cb9b2.js";import"./QList.efe7843a.js";import"./QSelect.924c04e8.js";import"./QItem.78bfbbe5.js";import"./format.d4152734.js";import"./pinia.81942998.js";import"./axios.ca9091c1.js";const _={class:"tw-flex tw-items-center tw-justify-between tw-mb-6"},F={__name:"Index",setup(h){const t=x(),r=Q(),u=f(()=>t.units),c=[{name:"name",label:"Nome",field:"name",align:"left"},{name:"domain",label:"Dom\xEDnio",field:"domain"},{name:"city",label:"Cidade",field:"city"},{name:"uf",label:"UF",field:"uf"},{name:"status",label:"Status",field:"status"},{name:"actions",label:"A\xE7\xF5es",field:"actions",align:"center"}];p(async()=>{await t.list()});const m=async a=>{r.dialog({title:"Confirmar Exclus\xE3o",message:`Deseja realmente excluir a unidade "${a.name}"?`,cancel:!0,persistent:!0}).onOk(async()=>{try{await t.delete(a.token),r.notify({type:"positive",message:"Unidade exclu\xEDda com sucesso!"}),await t.list()}catch{r.notify({type:"negative",message:"Erro ao excluir unidade"})}})};return(a,n)=>(y(),w($,{class:"tw-p-6"},{default:s(()=>[i("div",_,[n[1]||(n[1]=i("div",null,[i("h1",{class:"tw-text-3xl tw-font-bold"},"Unidades"),i("p",{class:"tw-text-gray-600"},"Gerencie as unidades do sistema")],-1)),e(l,{color:"primary",label:"Nova Unidade",icon:"add",onClick:n[0]||(n[0]=o=>a.$router.push("/units/new"))})]),e(g,null,{default:s(()=>[e(k,null,{default:s(()=>[e(v,{rows:u.value,columns:c,"row-key":"id",loading:b(t).loading,flat:""},{"body-cell-actions":s(o=>[e(C,{props:o},{default:s(()=>[e(l,{flat:"",round:"",dense:"",icon:"edit",onClick:d=>a.$router.push(`/units/${o.row.token}/edit`)},null,8,["onClick"]),e(l,{flat:"",round:"",dense:"",icon:"visibility",onClick:d=>a.$router.push(`/units/${o.row.token}`)},null,8,["onClick"]),e(l,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:d=>m(o.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"])]),_:1})]),_:1})]),_:1}))}};export{F as default};
