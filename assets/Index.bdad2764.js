import{r as _,s as b,a6 as k,a7 as o,a9 as x,ak as i,aa as r,ad as m,al as C,b2 as Q,ac as l,am as s,an as $}from"./index.0cd5b2c0.js";import{Q as P,a as d}from"./QTable.7497b62d.js";import{Q as v}from"./QBadge.1887abba.js";import{Q as S}from"./QPage.3c190eb7.js";import{u as B}from"./provider.3a58150d.js";import{u as D}from"./use-quasar.cbd59b73.js";import"./QList.f2e17d84.js";import"./QSelect.22b66de6.js";import"./QItem.15cdd629.js";import"./format.36094fd3.js";import"./pinia.416f3d4a.js";import"./axios.75cbcf9c.js";const N={class:"tw-flex tw-items-center tw-justify-between tw-mb-6"},A={class:"tw-text-sm"},U={__name:"Index",setup(E){const n=D(),u=B(),p=_([]),w=[{name:"code",label:"C\xF3digo",field:"code",align:"left"},{name:"name",label:"Nome",field:"name",align:"left"},{name:"priority",label:"Prioridade",field:"priority",align:"center"},{name:"pricing",label:"Custo por tokens",field:"pricing_currency",align:"left"},{name:"enabled",label:"Status",field:"enabled",align:"center"},{name:"actions",label:"A\xE7\xF5es",align:"right"}],y=a=>{n.dialog({title:"Confirmar Exclus\xE3o",message:`Deseja realmente excluir o provedor "${a.name}"?`,cancel:!0,persistent:!0}).onOk(async()=>{try{await u.delete(a.id),n.notify({type:"positive",message:"Provedor exclu\xEDdo com sucesso!"}),await f()}catch{n.notify({type:"negative",message:"Erro ao excluir provedor"})}})},f=async()=>{try{p.value=await u.list()}catch{n.notify({type:"negative",message:"Erro ao carregar provedores"})}};b(()=>{f()});const g=(a,t,e="USD")=>{if(!a||!t)return"\u2014";const c=Number(a).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:6});return`${e} ${c} / ${t.toLocaleString("pt-BR")} tokens`};return(a,t)=>(x(),k(S,{class:"tw-p-6"},{default:o(()=>[i("div",N,[t[1]||(t[1]=i("div",null,[i("h1",{class:"tw-text-3xl tw-font-bold"},"Provedores de IA"),i("p",{class:"tw-text-gray-600"},"Gerencie os provedores de IA dispon\xEDveis")],-1)),r(m,{color:"primary",label:"Novo Provedor",icon:"add",onClick:t[0]||(t[0]=e=>a.$router.push("/providers/new"))})]),r($,null,{default:o(()=>[r(C,null,{default:o(()=>[r(P,{rows:p.value,columns:w,"row-key":"id",loading:Q(u).loading,flat:""},{"body-cell-pricing":o(e=>[r(d,{props:e},{default:o(()=>[i("div",A,[i("div",null,[t[2]||(t[2]=i("strong",null,"Entrada:",-1)),l(" "+s(g(e.row.input_unit_price,e.row.input_token_unit,e.row.pricing_currency)),1)]),i("div",null,[t[3]||(t[3]=i("strong",null,"Sa\xEDda:",-1)),l(" "+s(g(e.row.output_unit_price,e.row.output_token_unit,e.row.pricing_currency)),1)])])]),_:2},1032,["props"])]),"body-cell-enabled":o(e=>[r(d,{props:e},{default:o(()=>[r(v,{color:e.value?"positive":"negative"},{default:o(()=>[l(s(e.value?"Ativo":"Inativo"),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-priority":o(e=>[r(d,{props:e},{default:o(()=>[r(v,{color:"info"},{default:o(()=>[l(s(e.value),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-actions":o(e=>[r(d,{props:e},{default:o(()=>[r(m,{flat:"",round:"",dense:"",icon:"edit",onClick:c=>a.$router.push(`/providers/${e.row.id}/edit`)},null,8,["onClick"]),r(m,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:c=>y(e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"])]),_:1})]),_:1})]),_:1}))}};export{U as default};
