import{j as f,s as p,a6 as w,a7 as o,a9 as g,ak as n,aa as t,ad as i,al as y,b2 as _,an as k}from"./index.0d3749aa.js";import{Q as b,a as $}from"./QTable.6d3344bf.js";import{Q as v}from"./QPage.22d0f341.js";import{u as x}from"./user.afa846f2.js";import{u as C}from"./use-quasar.192cb9b2.js";import"./QList.efe7843a.js";import"./QSelect.924c04e8.js";import"./QItem.78bfbbe5.js";import"./format.d4152734.js";import"./pinia.81942998.js";import"./axios.ca9091c1.js";const Q={class:"tw-flex tw-items-center tw-justify-between tw-mb-6"},G={__name:"Index",setup(h){const a=x(),r=C(),u=f(()=>a.users),m=[{name:"name",label:"Nome",field:e=>`${e.first_name} ${e.last_name||""}`.trim(),align:"left"},{name:"email",label:"E-mail",field:"email"},{name:"status",label:"Status",field:"status"},{name:"actions",label:"A\xE7\xF5es",field:"actions",align:"center"}];p(async()=>{await a.list()});const c=async e=>{r.dialog({title:"Confirmar Exclus\xE3o",message:`Deseja realmente excluir o usu\xE1rio "${e.first_name} ${e.last_name||""}"?`,cancel:!0,persistent:!0}).onOk(async()=>{try{await a.delete(e.token),r.notify({type:"positive",message:"Usu\xE1rio exclu\xEDdo com sucesso!"}),await a.list()}catch{r.notify({type:"negative",message:"Erro ao excluir usu\xE1rio"})}})};return(e,s)=>(g(),w(v,{class:"tw-p-6"},{default:o(()=>[n("div",Q,[s[1]||(s[1]=n("div",null,[n("h1",{class:"tw-text-3xl tw-font-bold"},"Usu\xE1rios"),n("p",{class:"tw-text-gray-600"},"Gerencie os usu\xE1rios do sistema")],-1)),t(i,{color:"primary",label:"Novo Usu\xE1rio",icon:"add",onClick:s[0]||(s[0]=l=>e.$router.push("/users/new"))})]),t(k,null,{default:o(()=>[t(y,null,{default:o(()=>[t(b,{rows:u.value,columns:m,"row-key":"id",loading:_(a).loading,flat:""},{"body-cell-actions":o(l=>[t($,{props:l},{default:o(()=>[t(i,{flat:"",round:"",dense:"",icon:"edit",onClick:d=>e.$router.push(`/users/${l.row.token}/edit`)},null,8,["onClick"]),t(i,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:d=>c(l.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"])]),_:1})]),_:1})]),_:1}))}};export{G as default};
